extends layout.pug
include utils.pug

block content
  h1= title
  link(rel='stylesheet' href='/stylesheets/newStory.css')
  script(src="/javascripts/new-story.js" type="module")
  +validationErrorSummary(errors)
  form(action='/stories/new' method='post')
    input(type='hidden' name='_csrf' value=csrfToken)
    +field('Title', 'title', story.title)
    +field('Story', 'content', story.content, "textarea")
    - let list = ["Story", "Review", "Walkthrough"]
    nav Select Topic
      select(name="topicType")
        each item in list
          option(value=`${story.topicType}`) #{item}
      nav Select Game
        select(name="gameId")
          each game in games
              option(value=`${game.id}`) #{game.title}
      div
        button#newStory(type='submit') Write Story
        a#newStoryCancel(href='/') Cancel
